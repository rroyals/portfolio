<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/6277f1a7f42c1288-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/bb3ef058b751a6ad-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/work/2020-02-01-year-in-monzo-2020/online-in-person.jpeg"/><link rel="preload" as="image" href="/work/2020-02-01-year-in-monzo-2020/technical-architecture.png"/><link rel="preload" as="image" href="/work/2020-02-01-year-in-monzo-2020/platform-requests.jpeg"/><link rel="stylesheet" href="/_next/static/css/cd9ac437dbdb55e1.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/82ac9842c22a9525.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-3193b113389a5938.js"/><script src="/_next/static/chunks/fd9d1056-9f91b5e418130764.js" async=""></script><script src="/_next/static/chunks/117-e9bb1c308e93461a.js" async=""></script><script src="/_next/static/chunks/main-app-2cca24b979bb00c6.js" async=""></script><script src="/_next/static/chunks/app/layout-05bc13878bf2d84f.js" async=""></script><link rel="preload" href="https://analytics.ahrefs.com/analytics.js" as="script"/><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-NRKQPP7M9P" as="script"/><title>Year in Monzo 2020</title><meta name="description" content="A unique experience in to how each customer has spent over the past year"/><meta name="creator" content="Alex Pate"/><meta name="publisher" content="Alex Pate"/><meta property="og:title" content="Alex Pate - Product Engineer"/><meta property="og:description" content="Alex Pate is a product engineer based in Milan, working somewhere on the boundary between design and code."/><meta property="og:site_name" content="Alex Pate - Product Engineer"/><meta property="og:image" content="https://alexpate.com/og.png"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="Alex Pate - Product Engineer"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@alexjpate"/><meta name="twitter:title" content="Alex Pate - Product Engineer"/><meta name="twitter:description" content="Alex Pate is a product engineer based in Milan, working somewhere on the boundary between design and code."/><meta name="twitter:image" content="https://alexpate.com/og.png"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Person","name":"Alex Pate","image":"https://alexpate.com/avatar.jpeg","url":"https://alexpate.com","jobTitle":"Product Engineer","sameAs":["https://twitter.com/alexjpate","https://www.github.com/alexpate","https://www.linkedin.com/in/alexjpate/"]}</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_57d908 __variable_3c557b bg-slate-50"><div class="max-w-2xl lg:max-w-xl mx-auto"><header class="pt-8 md:pt-16 pb-16 px-4 md:px-0 flex justify-between"><p></p></header><main class="px-4 md:px-0"><h1 class="font-semibold text-4xl tracking-tight">Year in Monzo 2020</h1><section class="py-5"><article class="prose prose-lg"><p>Year in Monzo is an interactive web based experience that provides customers with unique insights in to how they spend and saved over the past year.</p>
<h2>Moving to D3.js</h2>
<p>In past editions of Year in Monzo, graphs have been powered by the Google Chart API. Although these have worked well for us, the desire to add more complex graphs meant we needed a different solution.</p>
<p>D3.js gave us this flexibility and allowed us to create more customised visiulations.</p>
<h2>New data points to reflect 2020</h2>
<p>2020 for many was a hectic year, which had a huge impact on how people managed and spent their money. With a national lockdown in the UK in March, most customers saw a drop in the frequency of in-person (in a physical shop) spending.</p>
<p>Getting the tone of this graph right was important. We felt that removing labels and values from the graph and treating it more as an illustration helped to soften some of the curves, but whilst still providing a strong enough nod towards what had been an awful year.</p>
<p>This graph ended up becoming one of the most popular parts of the experience with hundreds of customers sharing their graphs on social media.</p>
<p><img src="/work/2020-02-01-year-in-monzo-2020/online-in-person.jpeg" alt="An example graph showing online vs in-person spending"/></p>
<h2>Technical architecture</h2>
<p>Our final system ended up reflecting how most of our systems work at Monzo. An entry API which manages authentication and authorization makes a request to the main data service, which pulls the given data for the user. This is then enriched with data from other downstream services such as merchant names and logos. This allowed us to ensure that the logos displayed for a given merchant would always be up to date, as they are requested on each request.</p>
<p><img src="/work/2020-02-01-year-in-monzo-2020/technical-architecture.png" alt="Technical architecture"/></p>
<h2>Generating 8 million unique images</h2>
<p>As part of the experience, we pre-generated two personalised images for each user which contained stats about their spending.</p>
<p>Using a headless browser to screenshot an HTML file seemed like the most viable approach, as it would give us a large amount of flexibility over the layout and design of the final image, as it was ultimately just HTML and CSS. However running a headless browser and making 8 million requests to it ended up creating some large engineering problems.</p>
<p>We decided to pre-generate all of the images to reduce the extra load on the platform during launch. After scaling the service up, we managed to generate all 8 million images in a few hours.</p>
<h2>Launching</h2>
<p>After several rounds of internal testing, we finally released to our customers.</p>
<p>Despite the viral mechanic built in, we had still built several levers in to the release process that would allow us to increase and decrease the number of people seeing their Year in Monzo.</p>
<p>The graph below, which shows the number of requests per second to Monzo on launch-day vs the previous day, is testament to the work of the platform engineers who built a system that could manage a 3-fold increase in requests, without fail.</p>
<p><img src="/work/2020-02-01-year-in-monzo-2020/platform-requests.jpeg" alt="Requests for Year in Monzo 2020"/></p>
<p><em>(<a href="https://twitter.com/suhailpatel/status/1348990329077301250!">credit to Suhail Patel who created this graph</a>)</em></p></article></section></main><footer class="px-4 md:px-0 border-t border-slate-200 py-8 text-slate-700 font-mono text-xs tracking-tight flex justify-between"><p>Â© 2025 - <!-- -->2025<!-- --> <!-- -->/<!-- --> Brendan Royals</p></footer></div><script src="/_next/static/chunks/webpack-3193b113389a5938.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/6277f1a7f42c1288-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/bb3ef058b751a6ad-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/cd9ac437dbdb55e1.css\",\"style\"]\n4:HL[\"/_next/static/css/82ac9842c22a9525.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"5:I[2846,[],\"\"]\n8:I[4707,[],\"\"]\na:I[6423,[],\"\"]\nb:I[8003,[\"185\",\"static/chunks/app/layout-05bc13878bf2d84f.js\"],\"\"]\nc:I[8291,[\"185\",\"static/chunks/app/layout-05bc13878bf2d84f.js\"],\"Analytics\"]\nd:I[4888,[\"185\",\"static/chunks/app/layout-05bc13878bf2d84f.js\"],\"GoogleAnalytics\"]\nf:I[1060,[],\"\"]\n9:[\"slug\",\"year-in-monzo-2020\",\"d\"]\n10:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L5\",null,{\"buildId\":\"W6ut7dmLYdtGKuHz2FDCD\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"projects\",\"year-in-monzo-2020\"],\"initialTree\":[\"\",{\"children\":[\"projects\",{\"children\":[[\"slug\",\"year-in-monzo-2020\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"year-in-monzo-2020\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"projects\",{\"children\":[[\"slug\",\"year-in-monzo-2020\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L6\",\"$L7\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/82ac9842c22a9525.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]],null],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"projects\",\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"projects\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/cd9ac437dbdb55e1.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Alex Pate\\\",\\\"image\\\":\\\"https://alexpate.com/avatar.jpeg\\\",\\\"url\\\":\\\"https://alexpate.com\\\",\\\"jobTitle\\\":\\\"Product Engineer\\\",\\\"sameAs\\\":[\\\"https://twitter.com/alexjpate\\\",\\\"https://www.github.com/alexpate\\\",\\\"https://www.linkedin.com/in/alexjpate/\\\"]}\"}}],[\"$\",\"$Lb\",null,{\"src\":\"https://analytics.ahrefs.com/analytics.js\",\"data-key\":\"Lp8HPBxSc/ujln/5tFmj3A\",\"defer\":true}]]}],[\"$\",\"body\",null,{\"className\":\"__className_57d908 __variable_3c557b bg-slate-50\",\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-2xl lg:max-w-xl mx-auto\",\"children\":[[\"$\",\"header\",null,{\"className\":\"pt-8 md:pt-16 pb-16 px-4 md:px-0 flex justify-between\",\"children\":[\"$\",\"p\",null,{}]}],[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}],[\"$\",\"footer\",null,{\"className\":\"px-4 md:px-0 border-t border-slate-200 py-8 text-slate-700 font-mono text-xs tracking-tight flex justify-between\",\"children\":[\"$\",\"p\",null,{\"children\":[\"Â© 2025 - \",2025,\" \",\"/\",\" Brendan Royals\"]}]}]]}],[\"$\",\"$Lc\",null,{}],[\"$\",\"$Ld\",null,{\"gaId\":\"G-NRKQPP7M9P\"}]]}]]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Le\"],\"globalErrorComponent\":\"$f\",\"missingSlots\":\"$W10\"}]\n"])</script><script>self.__next_f.push([1,"7:[\"$\",\"main\",null,{\"className\":\"px-4 md:px-0\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"font-semibold text-4xl tracking-tight\",\"children\":\"Year in Monzo 2020\"}],[\"$\",\"section\",null,{\"className\":\"py-5\",\"children\":[\"$\",\"article\",null,{\"className\":\"prose prose-lg\",\"children\":\"$L11\"}]}]]}]\ne:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Year in Monzo 2020\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"A unique experience in to how each customer has spent over the past year\"}],[\"$\",\"meta\",\"4\",{\"name\":\"creator\",\"content\":\"Alex Pate\"}],[\"$\",\"meta\",\"5\",{\"name\":\"publisher\",\"content\":\"Alex Pate\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"Alex Pate - Product Engineer\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:description\",\"content\":\"Alex Pate is a product engineer based in Milan, working somewhere on the boundary between design and code.\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:site_name\",\"content\":\"Alex Pate - Product Engineer\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:image\",\"content\":\"https://alexpate.com/og.png\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image:alt\",\"content\":\"Alex Pate - Product Engineer\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"14\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:creator\",\"content\":\"@alexjpate\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:title\",\"content\":\"Alex Pate - Product Engineer\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:description\",\"content\":\"Alex Pate is a product engineer based in Milan, working somewhere on the boundary between design and code.\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:image\",\"content\":\"https://alexpate.com/og.png\"}],[\"$\",\"link\",\"19\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"20\",{\"name\":\"next-size-adjust\"}]]\n6:null\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"p\",null,{\"children\":\"Year in Monzo is an interactive web based experience that provides customers with unique insights in to how they spend and saved over the past year.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Moving to D3.js\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"In past editions of Year in Monzo, graphs have been powered by the Google Chart API. Although these have worked well for us, the desire to add more complex graphs meant we needed a different solution.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"D3.js gave us this flexibility and allowed us to create more customised visiulations.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"New data points to reflect 2020\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"2020 for many was a hectic year, which had a huge impact on how people managed and spent their money. With a national lockdown in the UK in March, most customers saw a drop in the frequency of in-person (in a physical shop) spending.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Getting the tone of this graph right was important. We felt that removing labels and values from the graph and treating it more as an illustration helped to soften some of the curves, but whilst still providing a strong enough nod towards what had been an awful year.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This graph ended up becoming one of the most popular parts of the experience with hundreds of customers sharing their graphs on social media.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/work/2020-02-01-year-in-monzo-2020/online-in-person.jpeg\",\"alt\":\"An example graph showing online vs in-person spending\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Technical architecture\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Our final system ended up reflecting how most of our systems work at Monzo. An entry API which manages authentication and authorization makes a request to the main data service, which pulls the given data for the user. This is then enriched with data from other downstream services such as merchant names and logos. This allowed us to ensure that the logos displayed for a given merchant would always be up to date, as they are requested on each request.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/work/2020-02-01-year-in-monzo-2020/technical-architecture.png\",\"alt\":\"Technical architecture\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Generating 8 million unique images\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"As part of the experience, we pre-generated two personalised images for each user which contained stats about their spending.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Using a headless browser to screenshot an HTML file seemed like the most viable approach, as it would give us a large amount of flexibility over the layout and design of the final image, as it was ultimately just HTML and CSS. However running a headless browser and making 8 million requests to it ended up creating some large engineering problems.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"We decided to pre-generate all of the images to reduce the extra load on the platform during launch. After scaling the service up, we managed to generate all 8 million images in a few hours.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Launching\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"After several rounds of internal testing, we finally released to our customers.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Despite the viral mechanic built in, we had still built several levers in to the release process that would allow us to increase and decrease the number of people seeing their Year in Monzo.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The graph below, which shows the number of requests per second to Monzo on launch-day vs the previous day, is testament to the work of the platform engineers who built a system that could manage a 3-fold increase in requests, without fail.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"src\":\"/work/2020-02-01-year-in-monzo-2020/platform-requests.jpeg\",\"alt\":\"Requests for Year in Monzo 2020\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"$\",\"em\",null,{\"children\":[\"(\",[\"$\",\"a\",null,{\"href\":\"https://twitter.com/suhailpatel/status/1348990329077301250!\",\"children\":\"credit to Suhail Patel who created this graph\"}],\")\"]}]}]]\n"])</script></body></html>