3:I[4707,[],""]
5:I[6423,[],""]
6:I[8003,["185","static/chunks/app/layout-05bc13878bf2d84f.js"],""]
7:I[8291,["185","static/chunks/app/layout-05bc13878bf2d84f.js"],"Analytics"]
8:I[4888,["185","static/chunks/app/layout-05bc13878bf2d84f.js"],"GoogleAnalytics"]
4:["slug","inlining-svg-with-rails","d"]
0:["W6ut7dmLYdtGKuHz2FDCD",[[["",{"children":["posts",{"children":[["slug","inlining-svg-with-rails","d"],{"children":["__PAGE__?{\"slug\":\"inlining-svg-with-rails\"}",{}]}]}]},"$undefined","$undefined",true],["",{"children":["posts",{"children":[["slug","inlining-svg-with-rails","d"],{"children":["__PAGE__",{},[["$L1","$L2",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/82ac9842c22a9525.css","precedence":"next","crossOrigin":"$undefined"}]]],null],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[null,["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]],null]},[[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/cd9ac437dbdb55e1.css","precedence":"next","crossOrigin":"$undefined"}]],["$","html",null,{"lang":"en","children":[["$","head",null,{"children":[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"Person\",\"name\":\"Alex Pate\",\"image\":\"https://alexpate.com/avatar.jpeg\",\"url\":\"https://alexpate.com\",\"jobTitle\":\"Product Engineer\",\"sameAs\":[\"https://twitter.com/alexjpate\",\"https://www.github.com/alexpate\",\"https://www.linkedin.com/in/alexjpate/\"]}"}}],["$","$L6",null,{"src":"https://analytics.ahrefs.com/analytics.js","data-key":"Lp8HPBxSc/ujln/5tFmj3A","defer":true}]]}],["$","body",null,{"className":"__className_57d908 __variable_3c557b bg-slate-50","children":[["$","div",null,{"className":"max-w-2xl lg:max-w-xl mx-auto","children":[["$","header",null,{"className":"pt-8 md:pt-16 pb-16 px-4 md:px-0 flex justify-between","children":["$","p",null,{}]}],["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[]}],["$","footer",null,{"className":"px-4 md:px-0 border-t border-slate-200 py-8 text-slate-700 font-mono text-xs tracking-tight flex justify-between","children":["$","p",null,{"children":["Â© 2025 - ",2025," ","/"," Brendan Royals"]}]}]]}],["$","$L7",null,{}],["$","$L8",null,{"gaId":"G-NRKQPP7M9P"}]]}]]}]],null],null],["$L9",null]]]]
2:[["$","main",null,{"className":"px-4 md:px-0","children":[["$","section",null,{"children":[["$","h1",null,{"className":"font-semibold tracking-tight text-4xl text-slate-900","children":"Inlining SVG's with Rails"}],["$","span",null,{"className":"text-slate-500 text-sm tracking-tight font-mono block mt-4","children":["Published on"," ",["$","time",null,{"dateTime":"2016-04-23","children":"22 Apr 2016"}]]}]]}],["$","section",null,{"className":"py-5","children":["$","article",null,{"className":"prose prose-lg","children":"$La"}]}]]}],["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Inlining SVG's with Rails\",\"url\":\"https://alexpate.com/posts/inlining-svg-with-rails\",\"datePublished\":\"2016-04-23\",\"dateModified\":\"2016-04-23\",\"author\":[{\"@type\":\"Person\",\"name\":\"Alex Pate\",\"url\":\"https://alexpate.com\"}]}"}}]]
9:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Inlining SVG's with Rails"}],["$","meta","3",{"name":"description","content":"As part of our recent redesign of the Pusher dashboard, we changed the way that we bring in icons"}],["$","meta","4",{"name":"creator","content":"Alex Pate"}],["$","meta","5",{"name":"publisher","content":"Alex Pate"}],["$","meta","6",{"property":"og:title","content":"Inlining SVG's with Rails"}],["$","meta","7",{"property":"og:description","content":"As part of our recent redesign of the Pusher dashboard, we changed the way that we bring in icons"}],["$","meta","8",{"property":"og:url","content":"https://alexpate.com/posts/inlining-svg-with-rails"}],["$","meta","9",{"property":"og:site_name","content":"Alex Pate - Product Engineer"}],["$","meta","10",{"property":"og:image","content":"https://alexpate.com/og.png"}],["$","meta","11",{"property":"og:image:width","content":"1200"}],["$","meta","12",{"property":"og:image:height","content":"630"}],["$","meta","13",{"property":"og:image:alt","content":"Alex Pate - Product Engineer"}],["$","meta","14",{"property":"og:type","content":"website"}],["$","meta","15",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","16",{"name":"twitter:creator","content":"@alexjpate"}],["$","meta","17",{"name":"twitter:creator:id","content":"243263662"}],["$","meta","18",{"name":"twitter:title","content":"Inlining SVG's with Rails"}],["$","meta","19",{"name":"twitter:description","content":"As part of our recent redesign of the Pusher dashboard, we changed the way that we bring in icons"}],["$","meta","20",{"name":"twitter:image","content":"https://alexpate.com/og.png"}],["$","link","21",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}],["$","meta","22",{"name":"next-size-adjust"}]]
1:null
a:[["$","p",null,{"children":"As part of our recent redesign of the Pusher dashboard, we changed the way that we bring in icons. Previously, we used FontAwesome to provide a simple way to use icons across the project. It was easy enough for anyone to use, and provided some level of customization (color, width/height, position)."}],"\n",["$","p",null,{"children":"However, icon fonts are seriously flawed in several key areas:"}],"\n",["$","p",null,{"children":"Accesibility - They provide screenreaders and assistive technologies with no context.\nControl - The icons are glyphs in a font, and as such we only have limited control over what they look like."}],"\n",["$","h2",null,{"children":"SVG is the way"}],"\n",["$","p",null,{"children":"SVG seemed like the best option. They can be rendered through all of the ways that an image can be, plus more:"}],"\n",["$","ul",null,{"children":["\n",["$","li",null,{"children":["Through the ",["$","code",null,{"children":"<img>"}]," tag"]}],"\n",["$","li",null,{"children":["Through the CSS ",["$","code",null,{"children":"url"}]," value (used in background-image and content)"]}],"\n",["$","li",null,{"children":["Through the ",["$","code",null,{"children":"<object>"}]," tag"]}],"\n",["$","li",null,{"children":"Inlined"}],"\n"]}],"\n",["$","p",null,{"children":"The first three work well however, they don't allow for full manipulation of the SVG's code."}],"\n",["$","p",null,{"children":"As such, I opted for the fourth option: inlining. This means including the raw SVG code inside the DOM:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-html","children":[["$","span",null,{"className":"hljs-tag","children":["<",["$","span",null,{"className":"hljs-name","children":"div"}],">"]}],"\n  ",["$","span",null,{"className":"hljs-tag","children":["<",["$","span",null,{"className":"hljs-name","children":"svg"}]," ",["$","span",null,{"className":"hljs-attr","children":"class"}],"=",["$","span",null,{"className":"hljs-string","children":"\"logo\""}]," ",["$","span",null,{"className":"hljs-attr","children":"width"}],"=",["$","span",null,{"className":"hljs-string","children":"\"90\""}]," ",["$","span",null,{"className":"hljs-attr","children":"height"}],"=",["$","span",null,{"className":"hljs-string","children":"\"40\""}]," ",["$","span",null,{"className":"hljs-attr","children":"viewBox"}],"=",["$","span",null,{"className":"hljs-string","children":"\"0 0 120 37\""}],">"]}],"\n    ",["$","span",null,{"className":"hljs-tag","children":["<",["$","span",null,{"className":"hljs-name","children":"path"}]," ",["$","span",null,{"className":"hljs-attr","children":"class"}],"=",["$","span",null,{"className":"hljs-string","children":"\"logo__mark\""}]," ",["$","span",null,{"className":"hljs-attr","children":"d"}],"=",["$","span",null,{"className":"hljs-string","children":"\"M23.419...\""}]," ",["$","span",null,{"className":"hljs-attr","children":"fill"}],"=",["$","span",null,{"className":"hljs-string","children":"\"inherit\""}],">"]}],["$","span",null,{"className":"hljs-tag","children":["</",["$","span",null,{"className":"hljs-name","children":"path"}],">"]}],"\n  ",["$","span",null,{"className":"hljs-tag","children":["</",["$","span",null,{"className":"hljs-name","children":"svg"}],">"]}],"\n",["$","span",null,{"className":"hljs-tag","children":["</",["$","span",null,{"className":"hljs-name","children":"div"}],">"]}],"\n"]}]}],"\n",["$","p",null,{"children":"The benefit of this is that we can control elements of the SVG with CSS, just as we would with any other html element:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-css","children":[["$","span",null,{"className":"hljs-selector-class","children":".logo"}]," ",["$","span",null,{"className":"hljs-selector-class","children":".logo__mark"}]," {\n  fill: ",["$","span",null,{"className":"hljs-number","children":"#f00"}],";\n}\n\n",["$","span",null,{"className":"hljs-selector-class","children":".logo"}],["$","span",null,{"className":"hljs-selector-pseudo","children":":hover"}]," ",["$","span",null,{"className":"hljs-selector-class","children":".logo__mark"}]," {\n  fill: ",["$","span",null,{"className":"hljs-number","children":"#000"}],";\n}\n"]}]}],"\n",["$","p",null,{"children":"This is great, but it now starts to spin up issues concerning maintenance. Let's say an icon is used 10 times across a site. If we inlined the icon in those 10 places and we want to update the icon, it would involve making changes in 10 seperate places. We need to keep the code DRY."}],"\n",["$","h2",null,{"children":"What we did"}],"\n",["$","p",null,{"children":["$","em",null,{"children":"Our dashboard is built on rails, so although this code is ruby specific, the methodology can be ported to any language/framework."}]}],"\n",["$","p",null,{"children":"Our solution was to build a helper that searches our store of svg files, pulls the relevant one, and inlines it for us. We can then call the helper in multiple places, and pull the SVG from a single source. This inherits the basic pattern of partials, that's used across web development."}],"\n",["$","h3",null,{"children":"The helper"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-ruby","children":[["$","span",null,{"className":"hljs-comment","children":"# app/helpers/application_helper.rb"}],"\n",["$","span",null,{"className":"hljs-keyword","children":"def"}]," ",["$","span",null,{"className":"hljs-title function_","children":"svg_asset"}],"(",["$","span",null,{"className":"hljs-params","children":"asset, options = {}"}],")\n  file = ",["$","span",null,{"className":"hljs-title class_","children":"File"}],".read(",["$","span",null,{"className":"hljs-title class_","children":"Rails"}],".root.join(",["$","span",null,{"className":"hljs-string","children":"'app'"}],", ",["$","span",null,{"className":"hljs-string","children":"'assets'"}],", ",["$","span",null,{"className":"hljs-string","children":"'images'"}],", ",["$","span",null,{"className":"hljs-string","children":"'svg_store'"}],", ",["$","span",null,{"className":"hljs-string","children":["\"",["$","span",null,{"className":"hljs-subst","children":"#{asset}"}],".svg\""]}],"))\n  doc = ",["$","span",null,{"className":"hljs-title class_","children":"Nokogiri"}],["$","span",null,{"className":"hljs-symbol","children":":"}],["$","span",null,{"className":"hljs-symbol","children":":HTML"}],["$","span",null,{"className":"hljs-symbol","children":":"}],["$","span",null,{"className":"hljs-symbol","children":":DocumentFragment"}],".parse file\n  svg = doc.at_css ",["$","span",null,{"className":"hljs-string","children":"'svg'"}],"\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," options[",["$","span",null,{"className":"hljs-symbol","children":":class"}],"].present?\n    svg[",["$","span",null,{"className":"hljs-string","children":"'class'"}],"] = options[",["$","span",null,{"className":"hljs-symbol","children":":class"}],"]\n  ",["$","span",null,{"className":"hljs-keyword","children":"end"}],"\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," options[",["$","span",null,{"className":"hljs-symbol","children":":width"}],"].present?\n    svg[",["$","span",null,{"className":"hljs-string","children":"'width'"}],"] = options[",["$","span",null,{"className":"hljs-symbol","children":":width"}],"]\n  ",["$","span",null,{"className":"hljs-keyword","children":"end"}],"\n\n  ",["$","span",null,{"className":"hljs-keyword","children":"if"}]," options[",["$","span",null,{"className":"hljs-symbol","children":":height"}],"].present?\n    svg[",["$","span",null,{"className":"hljs-string","children":"'height'"}],"] = options[",["$","span",null,{"className":"hljs-symbol","children":":height"}],"]\n  ",["$","span",null,{"className":"hljs-keyword","children":"end"}],"\n\n  doc.to_html.html_safe\n",["$","span",null,{"className":"hljs-keyword","children":"end"}],"\n"]}]}],"\n",["$","h3",null,{"children":"Using it"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-html","children":[["$","span",null,{"className":"hljs-tag","children":["<",["$","span",null,{"className":"hljs-name","children":"a"}]," ",["$","span",null,{"className":"hljs-attr","children":"href"}],"=",["$","span",null,{"className":"hljs-string","children":"\"/\""}]," ",["$","span",null,{"className":"hljs-attr","children":"class"}],"=",["$","span",null,{"className":"hljs-string","children":"\"global-nav__logo\""}],">"]}]," <%= svg_asset(\"pusher_logo\") %> ",["$","span",null,{"className":"hljs-tag","children":["</",["$","span",null,{"className":"hljs-name","children":"a"}],">"]}],"\n"]}]}],"\n",["$","h3",null,{"children":"Which spits out:"}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-html","children":[["$","span",null,{"className":"hljs-tag","children":["<",["$","span",null,{"className":"hljs-name","children":"a"}]," ",["$","span",null,{"className":"hljs-attr","children":"href"}],"=",["$","span",null,{"className":"hljs-string","children":"\"/\""}]," ",["$","span",null,{"className":"hljs-attr","children":"class"}],"=",["$","span",null,{"className":"hljs-string","children":"\"global-nav__logo\""}],">"]}],"\n  ",["$","span",null,{"className":"hljs-tag","children":["<",["$","span",null,{"className":"hljs-name","children":"svg"}],"\n    ",["$","span",null,{"className":"hljs-attr","children":"class"}],"=",["$","span",null,{"className":"hljs-string","children":"\"svg-pusher-logo\""}],"\n    ",["$","span",null,{"className":"hljs-attr","children":"width"}],"=",["$","span",null,{"className":"hljs-string","children":"\"70\""}],"\n    ",["$","span",null,{"className":"hljs-attr","children":"height"}],"=",["$","span",null,{"className":"hljs-string","children":"\"35\""}],"\n    ",["$","span",null,{"className":"hljs-attr","children":"role"}],"=",["$","span",null,{"className":"hljs-string","children":"\"img\""}],"\n    ",["$","span",null,{"className":"hljs-attr","children":"version"}],"=",["$","span",null,{"className":"hljs-string","children":"\"1.1\""}],"\n    ",["$","span",null,{"className":"hljs-attr","children":"viewBox"}],"=",["$","span",null,{"className":"hljs-string","children":"\"0 0 120 37\""}],"\n  >"]}],"\n    ",["$","span",null,{"className":"hljs-tag","children":["<",["$","span",null,{"className":"hljs-name","children":"path"}],"\n      ",["$","span",null,{"className":"hljs-attr","children":"d"}],"=",["$","span",null,{"className":"hljs-string","children":"\"M23.4196429,3.26418269 C19.8125,1.53870192 16.1607143,3.6377403...\""}],"\n      ",["$","span",null,{"className":"hljs-attr","children":"fill"}],"=",["$","span",null,{"className":"hljs-string","children":"\"#ffffff\""}],"\n    >"]}],["$","span",null,{"className":"hljs-tag","children":["</",["$","span",null,{"className":"hljs-name","children":"path"}],">"]}],"\n  ",["$","span",null,{"className":"hljs-tag","children":["</",["$","span",null,{"className":"hljs-name","children":"svg"}],">"]}],"\n",["$","span",null,{"className":"hljs-tag","children":["</",["$","span",null,{"className":"hljs-name","children":"a"}],">"]}],"\n"]}]}],"\n",["$","p",null,{"children":["You might also have noticed that through the helper, we can pass in ",["$","code",null,{"children":"class"}],", ",["$","code",null,{"children":"height"}],", and ",["$","code",null,{"children":"width"}]," attributes. These will override any existing properties that already exist in the SVG file when it is inlined:"]}],"\n",["$","pre",null,{"children":["$","code",null,{"className":"hljs language-html","children":[["$","span",null,{"className":"hljs-tag","children":["<",["$","span",null,{"className":"hljs-name","children":"a"}]," ",["$","span",null,{"className":"hljs-attr","children":"href"}],"=",["$","span",null,{"className":"hljs-string","children":"\"/\""}]," ",["$","span",null,{"className":"hljs-attr","children":"class"}],"=",["$","span",null,{"className":"hljs-string","children":"\"global-nav__logo\""}],">"]}],"\n  <%= svg_asset(\"pusher_logo\", width: 90, height: 45) %>\n",["$","span",null,{"className":"hljs-tag","children":["</",["$","span",null,{"className":"hljs-name","children":"a"}],">"]}],"\n"]}]}]]
