<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/6277f1a7f42c1288-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/bb3ef058b751a6ad-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/cd9ac437dbdb55e1.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/82ac9842c22a9525.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-3193b113389a5938.js"/><script src="/_next/static/chunks/fd9d1056-9f91b5e418130764.js" async=""></script><script src="/_next/static/chunks/117-e9bb1c308e93461a.js" async=""></script><script src="/_next/static/chunks/main-app-2cca24b979bb00c6.js" async=""></script><script src="/_next/static/chunks/app/layout-05bc13878bf2d84f.js" async=""></script><link rel="preload" href="https://analytics.ahrefs.com/analytics.js" as="script"/><link rel="preload" href="https://www.googletagmanager.com/gtag/js?id=G-NRKQPP7M9P" as="script"/><title>Installing a Positive SSL certificate on Nginx</title><meta name="description" content="This is a quick guide of how to install an SSL certificate on an nginx server. It assumes that you"/><meta name="creator" content="Alex Pate"/><meta name="publisher" content="Alex Pate"/><meta property="og:title" content="Installing a Positive SSL certificate on Nginx"/><meta property="og:description" content="This is a quick guide of how to install an SSL certificate on an nginx server. It assumes that you"/><meta property="og:url" content="https://alexpate.com/posts/installing-ssl-certificate-nginx"/><meta property="og:site_name" content="Alex Pate - Product Engineer"/><meta property="og:image" content="https://alexpate.com/og.png"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image:alt" content="Alex Pate - Product Engineer"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:creator" content="@alexjpate"/><meta name="twitter:creator:id" content="243263662"/><meta name="twitter:title" content="Installing a Positive SSL certificate on Nginx"/><meta name="twitter:description" content="This is a quick guide of how to install an SSL certificate on an nginx server. It assumes that you"/><meta name="twitter:image" content="https://alexpate.com/og.png"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><meta name="next-size-adjust"/><script type="application/ld+json">{"@context":"https://schema.org","@type":"Person","name":"Alex Pate","image":"https://alexpate.com/avatar.jpeg","url":"https://alexpate.com","jobTitle":"Product Engineer","sameAs":["https://twitter.com/alexjpate","https://www.github.com/alexpate","https://www.linkedin.com/in/alexjpate/"]}</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__className_57d908 __variable_3c557b bg-slate-50"><div class="max-w-2xl lg:max-w-xl mx-auto"><header class="pt-8 md:pt-16 pb-16 px-4 md:px-0 flex justify-between"><p></p></header><main class="px-4 md:px-0"><section><h1 class="font-semibold tracking-tight text-4xl text-slate-900">Installing a Positive SSL certificate on Nginx</h1><span class="text-slate-500 text-sm tracking-tight font-mono block mt-4">Published on<!-- --> <time dateTime="2015-06-28">27 Jun 2015</time></span></section><section class="py-5"><article class="prose prose-lg"><p>This is a quick guide of how to install an SSL certificate on an nginx server. It assumes that you already have a server set up, and have purchased an SSL certificate. If not, you can pick one up from <a href="http://www.namecheap.com/?aff=88180">namecheap</a> for a pretty decent price. (And yes, that is an affiliate link!)</p>
<h2>Note</h2>
<p>The examples below are just that, so remember to make the nesscary changes before copying/pasting.</p>
<h2>1 - Generate CSR</h2>
<p>Open up the terminal, and SSH in to your server. The following will generate a CSR block.</p>
<pre><code class="hljs language-bash">openssl req -new -newkey rsa:2048 -nodes -keyout your_domain_here.key -out your_domain_here.csr
</code></pre>
<p>You will then be asked to put in some more information about the admin of the certificate:</p>
<pre><code class="hljs language-bash">You are about to be asked to enter information that will be incorporated
into your certificate request.
What you are about to enter is what is called a Distinguished Name or a DN.
There are quite a few fields but you can leave some blank
For some fields there will be a default value,
If you enter <span class="hljs-string">&#x27;.&#x27;</span>, the field will be left blank.
-----
Country Name (2 letter code) [AU]:GB
State or Province Name (full name) [Some-State]:Hertfordshire
Locality Name (eg, city) []:St Albans
Organization Name (eg, company) [Internet Widgits Pty Ltd]:Alexander Pate
Organizational Unit Name (eg, section) []:
Common Name (e.g. server FQDN or YOUR name) []:alexpate.uk
Email Address []:alex@alexpate.uk

Please enter the following <span class="hljs-string">&#x27;extra&#x27;</span> attributes
to be sent with your certificate request
A challenge password []:
An optional company name []:
</code></pre>
<p>Those last three are optional, so just press enter to skip through them.</p>
<h2>2 - Copy CSR</h2>
<p>Open the CSR in terminal with the following. It should be a jumble of letters and numbers.</p>
<pre><code class="hljs language-python">nano your_domain_here.csr
</code></pre>
<h2>3 - Paste in to issuer.</h2>
<p>Depending on who you purchased the certificate from, there might be some different steps. If you purchased from NameCheap, then you&#x27;ll need to login to your account, head to &#x27;manage SSL Certificates&#x27;, and click on &#x27;issue&#x27;. You&#x27;ll then be asked to select the server configuration (nginx), and then paste the contents of the CSR in to the box.</p>
<p>They also might require some other information. Likewise, once this is done, you might also get a domain validation email asking you to permit the issuance of the certificate (that bit&#x27;s all pretty straight forward).</p>
<h2>4 - Prepare the certificate</h2>
<p>A couple of minutes later, you&#x27;ll receive an email containing the main bulk of the certificate. You should have four main files in the zip:</p>
<pre><code class="hljs language-bash">AddTrustExternalCARoot.crt
your_domain.crt
COMODORSAAddTrustCA.crt
COMODORSADomainValidationSecureServerCA.crt
</code></pre>
<p>You can ignore the AddTrustExternalCARoot.crt for the moment, that&#x27;s not required.</p>
<p>Before we upload the files, we need to bundle them in to a single file. To do this, head back to the terminal, and change directory in to wherever the zip file is (probably downloads).</p>
<p>(Pro-tip: instead of typing the whole location, type CD and drag and drop the folder in to the terminal).</p>
<p>Paste the following:</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cat</span> your_domain.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt &gt; your_domain.cer
</code></pre>
<h2>5 - Upload to server</h2>
<p>You&#x27;ll now see that a new file (your_domain.cer) has been created. Upload this file to your server. I always keep my certificates here:</p>
<pre><code class="hljs language-bash">/etc/ssl/customcerts
</code></pre>
<p>but as long as you&#x27;re consistent, it doesn&#x27;t really matter.</p>
<p>Likewise, when you were generating your CSR, you might have noticed a .key file was also created. Copy this file to the certificates folder. You&#x27;ll also want to change the permissions on this file.</p>
<pre><code class="hljs language-bash"><span class="hljs-built_in">cd</span> /etc/ssl/customcerts
<span class="hljs-built_in">chmod</span> 400 your_domain.key
</code></pre>
<h2>6 - Upload your nginx server block</h2>
<p>Open up your nginx config file (/etc/nginx/sites-available/).</p>
<p>There&#x27;s no right way of doing this, but here&#x27;s an excerpt of what mine looks like. You&#x27;ll need to add a new server block listening to the 443 port (ssl). You&#x27;ll also need to reference the location of the ssl_certificate, and ssl_certificate_key files.</p>
<p>The bottom block redirects non-https to https.</p>
<pre><code class="hljs language-bash">server {
    listen 443 default ssl ipv6only=on;

    server_name alexpate.uk;

    ssl_certificate /etc/ssl/customcerts/alexpate_uk.cer;
    ssl_certificate_key /etc/ssl/customcerts/alexpate.key;

    root /var/www/;
    index index.html index.htm;

}

server {
    listen 80;
    server_name alexpate.uk;
    rewrite ^ https://$server_name<span class="hljs-variable">$request_uri</span>? permanent;
}
</code></pre>
<h2>7 - Restart nginx</h2>
<p>Restart nginx, and you&#x27;re all good to go!</p>
<pre><code class="hljs language-bash">service nginx restart
</code></pre></article></section></main><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Installing a Positive SSL certificate on Nginx","url":"https://alexpate.com/posts/installing-ssl-certificate-nginx","datePublished":"2015-06-28","dateModified":"2015-06-28","author":[{"@type":"Person","name":"Alex Pate","url":"https://alexpate.com"}]}</script><footer class="px-4 md:px-0 border-t border-slate-200 py-8 text-slate-700 font-mono text-xs tracking-tight flex justify-between"><p>© 2025 - <!-- -->2025<!-- --> <!-- -->/<!-- --> Brendan Royals</p></footer></div><script src="/_next/static/chunks/webpack-3193b113389a5938.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/6277f1a7f42c1288-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/bb3ef058b751a6ad-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/cd9ac437dbdb55e1.css\",\"style\"]\n4:HL[\"/_next/static/css/82ac9842c22a9525.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"5:I[2846,[],\"\"]\n8:I[4707,[],\"\"]\na:I[6423,[],\"\"]\nb:I[8003,[\"185\",\"static/chunks/app/layout-05bc13878bf2d84f.js\"],\"\"]\nc:I[8291,[\"185\",\"static/chunks/app/layout-05bc13878bf2d84f.js\"],\"Analytics\"]\nd:I[4888,[\"185\",\"static/chunks/app/layout-05bc13878bf2d84f.js\"],\"GoogleAnalytics\"]\nf:I[1060,[],\"\"]\n9:[\"slug\",\"installing-ssl-certificate-nginx\",\"d\"]\n10:[]\n"])</script><script>self.__next_f.push([1,"0:[\"$\",\"$L5\",null,{\"buildId\":\"L7jNG91y5UXe29Rrtt2tj\",\"assetPrefix\":\"\",\"urlParts\":[\"\",\"posts\",\"installing-ssl-certificate-nginx\"],\"initialTree\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"installing-ssl-certificate-nginx\",\"d\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":\\\"installing-ssl-certificate-nginx\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"posts\",{\"children\":[[\"slug\",\"installing-ssl-certificate-nginx\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L6\",\"$L7\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/82ac9842c22a9525.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]],null],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[null,[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"posts\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\"}]],null]},[[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/cd9ac437dbdb55e1.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Alex Pate\\\",\\\"image\\\":\\\"https://alexpate.com/avatar.jpeg\\\",\\\"url\\\":\\\"https://alexpate.com\\\",\\\"jobTitle\\\":\\\"Product Engineer\\\",\\\"sameAs\\\":[\\\"https://twitter.com/alexjpate\\\",\\\"https://www.github.com/alexpate\\\",\\\"https://www.linkedin.com/in/alexjpate/\\\"]}\"}}],[\"$\",\"$Lb\",null,{\"src\":\"https://analytics.ahrefs.com/analytics.js\",\"data-key\":\"Lp8HPBxSc/ujln/5tFmj3A\",\"defer\":true}]]}],[\"$\",\"body\",null,{\"className\":\"__className_57d908 __variable_3c557b bg-slate-50\",\"children\":[[\"$\",\"div\",null,{\"className\":\"max-w-2xl lg:max-w-xl mx-auto\",\"children\":[[\"$\",\"header\",null,{\"className\":\"pt-8 md:pt-16 pb-16 px-4 md:px-0 flex justify-between\",\"children\":[\"$\",\"p\",null,{}]}],[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[]}],[\"$\",\"footer\",null,{\"className\":\"px-4 md:px-0 border-t border-slate-200 py-8 text-slate-700 font-mono text-xs tracking-tight flex justify-between\",\"children\":[\"$\",\"p\",null,{\"children\":[\"© 2025 - \",2025,\" \",\"/\",\" Brendan Royals\"]}]}]]}],[\"$\",\"$Lc\",null,{}],[\"$\",\"$Ld\",null,{\"gaId\":\"G-NRKQPP7M9P\"}]]}]]}]],null],null],\"couldBeIntercepted\":false,\"initialHead\":[null,\"$Le\"],\"globalErrorComponent\":\"$f\",\"missingSlots\":\"$W10\"}]\n"])</script><script>self.__next_f.push([1,"7:[[\"$\",\"main\",null,{\"className\":\"px-4 md:px-0\",\"children\":[[\"$\",\"section\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"font-semibold tracking-tight text-4xl text-slate-900\",\"children\":\"Installing a Positive SSL certificate on Nginx\"}],[\"$\",\"span\",null,{\"className\":\"text-slate-500 text-sm tracking-tight font-mono block mt-4\",\"children\":[\"Published on\",\" \",[\"$\",\"time\",null,{\"dateTime\":\"2015-06-28\",\"children\":\"27 Jun 2015\"}]]}]]}],[\"$\",\"section\",null,{\"className\":\"py-5\",\"children\":[\"$\",\"article\",null,{\"className\":\"prose prose-lg\",\"children\":\"$L11\"}]}]]}],[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"Installing a Positive SSL certificate on Nginx\\\",\\\"url\\\":\\\"https://alexpate.com/posts/installing-ssl-certificate-nginx\\\",\\\"datePublished\\\":\\\"2015-06-28\\\",\\\"dateModified\\\":\\\"2015-06-28\\\",\\\"author\\\":[{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Alex Pate\\\",\\\"url\\\":\\\"https://alexpate.com\\\"}]}\"}}]]\ne:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Installing a Positive SSL certificate on Nginx\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"This is a quick guide of how to install an SSL certificate on an nginx server. It assumes that you\"}],[\"$\",\"meta\",\"4\",{\"name\":\"creator\",\"content\":\"Alex Pate\"}],[\"$\",\"meta\",\"5\",{\"name\":\"publisher\",\"content\":\"Alex Pate\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"Installing a Positive SSL certificate on Nginx\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:description\",\"content\":\"This is a quick guide of how to install an SSL certificate on an nginx server. It assumes that you\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:url\",\"content\":\"https://alexpate.com/posts/installing-ssl-certificate-nginx\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:site_name\",\"content\":\"Alex Pate - Product Engineer\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:image\",\"content\":\"https://alexpate.com/og.png\"}],[\"$\",\"meta\",\"11\",{\"property\""])</script><script>self.__next_f.push([1,":\"og:image:width\",\"content\":\"1200\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:image:height\",\"content\":\"630\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image:alt\",\"content\":\"Alex Pate - Product Engineer\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:creator\",\"content\":\"@alexjpate\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:creator:id\",\"content\":\"243263662\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:title\",\"content\":\"Installing a Positive SSL certificate on Nginx\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:description\",\"content\":\"This is a quick guide of how to install an SSL certificate on an nginx server. It assumes that you\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:image\",\"content\":\"https://alexpate.com/og.png\"}],[\"$\",\"link\",\"21\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}],[\"$\",\"meta\",\"22\",{\"name\":\"next-size-adjust\"}]]\n6:null\n"])</script><script>self.__next_f.push([1,"11:[[\"$\",\"p\",null,{\"children\":[\"This is a quick guide of how to install an SSL certificate on an nginx server. It assumes that you already have a server set up, and have purchased an SSL certificate. If not, you can pick one up from \",[\"$\",\"a\",null,{\"href\":\"http://www.namecheap.com/?aff=88180\",\"children\":\"namecheap\"}],\" for a pretty decent price. (And yes, that is an affiliate link!)\"]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Note\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The examples below are just that, so remember to make the nesscary changes before copying/pasting.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"1 - Generate CSR\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Open up the terminal, and SSH in to your server. The following will generate a CSR block.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":\"openssl req -new -newkey rsa:2048 -nodes -keyout your_domain_here.key -out your_domain_here.csr\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"You will then be asked to put in some more information about the admin of the certificate:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":[\"You are about to be asked to enter information that will be incorporated\\ninto your certificate request.\\nWhat you are about to enter is what is called a Distinguished Name or a DN.\\nThere are quite a few fields but you can leave some blank\\nFor some fields there will be a default value,\\nIf you enter \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'.'\"}],\", the field will be left blank.\\n-----\\nCountry Name (2 letter code) [AU]:GB\\nState or Province Name (full name) [Some-State]:Hertfordshire\\nLocality Name (eg, city) []:St Albans\\nOrganization Name (eg, company) [Internet Widgits Pty Ltd]:Alexander Pate\\nOrganizational Unit Name (eg, section) []:\\nCommon Name (e.g. server FQDN or YOUR name) []:alexpate.uk\\nEmail Address []:alex@alexpate.uk\\n\\nPlease enter the following \",[\"$\",\"span\",null,{\"className\":\"hljs-string\",\"children\":\"'extra'\"}],\" attributes\\nto be sent with your certificate request\\nA challenge password []:\\nAn optional company name []:\\n\"]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Those last three are optional, so just press enter to skip through them.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"2 - Copy CSR\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Open the CSR in terminal with the following. It should be a jumble of letters and numbers.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-python\",\"children\":\"nano your_domain_here.csr\\n\"}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"3 - Paste in to issuer.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Depending on who you purchased the certificate from, there might be some different steps. If you purchased from NameCheap, then you'll need to login to your account, head to 'manage SSL Certificates', and click on 'issue'. You'll then be asked to select the server configuration (nginx), and then paste the contents of the CSR in to the box.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"They also might require some other information. Likewise, once this is done, you might also get a domain validation email asking you to permit the issuance of the certificate (that bit's all pretty straight forward).\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"4 - Prepare the certificate\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"A couple of minutes later, you'll receive an email containing the main bulk of the certificate. You should have four main files in the zip:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":\"AddTrustExternalCARoot.crt\\nyour_domain.crt\\nCOMODORSAAddTrustCA.crt\\nCOMODORSADomainValidationSecureServerCA.crt\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"You can ignore the AddTrustExternalCARoot.crt for the moment, that's not required.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Before we upload the files, we need to bundle them in to a single file. To do this, head back to the terminal, and change directory in to wherever the zip file is (probably downloads).\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"(Pro-tip: instead of typing the whole location, type CD and drag and drop the folder in to the terminal).\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Paste the following:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-built_in\",\"children\":\"cat\"}],\" your_domain.crt COMODORSADomainValidationSecureServerCA.crt COMODORSAAddTrustCA.crt \u003e your_domain.cer\\n\"]}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"5 - Upload to server\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"You'll now see that a new file (your_domain.cer) has been created. Upload this file to your server. I always keep my certificates here:\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":\"/etc/ssl/customcerts\\n\"}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"but as long as you're consistent, it doesn't really matter.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Likewise, when you were generating your CSR, you might have noticed a .key file was also created. Copy this file to the certificates folder. You'll also want to change the permissions on this file.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-built_in\",\"children\":\"cd\"}],\" /etc/ssl/customcerts\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-built_in\",\"children\":\"chmod\"}],\" 400 your_domain.key\\n\"]}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"6 - Upload your nginx server block\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Open up your nginx config file (/etc/nginx/sites-available/).\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"There's no right way of doing this, but here's an excerpt of what mine looks like. You'll need to add a new server block listening to the 443 port (ssl). You'll also need to reference the location of the ssl_certificate, and ssl_certificate_key files.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The bottom block redirects non-https to https.\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":[\"server {\\n    listen 443 default ssl ipv6only=on;\\n\\n    server_name alexpate.uk;\\n\\n    ssl_certificate /etc/ssl/customcerts/alexpate_uk.cer;\\n    ssl_certificate_key /etc/ssl/customcerts/alexpate.key;\\n\\n    root /var/www/;\\n    index index.html index.htm;\\n\\n}\\n\\nserver {\\n    listen 80;\\n    server_name alexpate.uk;\\n    rewrite ^ https://$server_name\",[\"$\",\"span\",null,{\"className\":\"hljs-variable\",\"children\":\"$$request_uri\"}],\"? permanent;\\n}\\n\"]}]}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"7 - Restart nginx\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Restart nginx, and you're all good to go!\"}],\"\\n\",[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"hljs language-bash\",\"children\":\"service nginx restart\\n\"}]}]]\n"])</script></body></html>